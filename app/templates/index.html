<!-- app/templates/index.html -->
{% extends "base.html" %}
{% block content %}
  <div class="toolbar">
    <a class="btn" href="{{ url_for('create_student') }}">New Student</a>
  </div>

  {% if students %}
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Enrollment No</th>
          <th>Name</th>
          <th>Course</th>
          <th>Email</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for s in students %}
          <tr>
            <td>{{ s.id }}</td>
            <td>{{ s.enrollment_no }}</td>
            <td>{{ s.first_name }} {{ s.last_name or '' }}</td>
            <td>{{ s.course or '-' }}</td>
            <td>{{ s.email or '-' }}</td>
            <td>
              <a href="{{ url_for('student_detail', student_id=s.id) }}">View</a> |
              <a href="{{ url_for('edit_student', student_id=s.id) }}">Edit</a> |
              <form action="{{ url_for('delete_student', student_id=s.id) }}" method="post" style="display:inline" onsubmit="return confirm('Delete student?');">
                <button class="linkish" type="submit">Delete</button>
              </form>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No students yet. Click "New Student" to add one.</p>
  {% endif %}
{% endblock %}
